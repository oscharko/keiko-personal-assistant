import{c as ue,P as re,O as e,bf as ye,bg as Ce,bh as C,bi as $,Q as xe,R as pe,r as a,X as W,bj as $e,bk as Ee,bl as Me,bm as Fe,bn as Re,ah as Le,b3 as we,bo as ge,ab as ce,ao as oe,a2 as te,aj as me,ba as de,bp as He,W as Pe,bq as qe,br as Be,bs as Ge,bt as We,bu as Ue,aZ as Ve,a_ as Oe,am as Ze,bv as ze,bd as je,bw as Qe,bx as Ke}from"./index-BapqnFUw.js";import{b as ve,D as Xe,I as Ye}from"./chunk-28-BmcailBo.js";import{A as Ne}from"./chunk-13-__CkDkHP.js";const he=ue("Comment24Regular","24",["M5.25 18A3.25 3.25 0 0 1 2 14.75v-8.5C2 4.45 3.46 3 5.25 3h13.5C20.55 3 22 4.46 22 6.25v8.5c0 1.8-1.46 3.25-3.25 3.25h-5.74L8 21.75a1.25 1.25 0 0 1-2-1V18h-.75Zm7.26-1.5h6.24c.97 0 1.75-.78 1.75-1.75v-8.5c0-.97-.78-1.75-1.75-1.75H5.25c-.97 0-1.75.78-1.75 1.75v8.5c0 .97.78 1.75 1.75 1.75H7.5v3.75l5.01-3.75Z"],{flipInRtl:!0}),Je=ue("DataScatter24Regular","24",["M3.75 3c.41 0 .75.34.75.75v14c0 .97.78 1.75 1.75 1.75h14a.75.75 0 0 1 0 1.5h-14A3.25 3.25 0 0 1 3 17.75v-14c0-.41.34-.75.75-.75ZM14 7a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3ZM9 6a3 3 0 1 0 0 6 3 3 0 0 0 0-6ZM7.5 9a1.5 1.5 0 1 1 3 0 1.5 1.5 0 0 1-3 0Zm4.5 6a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm3-1.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Z"]),Te=ue("Warning24Regular","24",["M13 17a1 1 0 1 0-2 0 1 1 0 0 0 2 0Zm-.26-7.85a.75.75 0 0 0-1.5.1l.01 4.5v.1a.75.75 0 0 0 1.5-.1v-4.5l-.01-.1Zm1.23-5.5a2.25 2.25 0 0 0-3.94 0L2.3 17.67A2.25 2.25 0 0 0 4.26 21h15.49c1.71 0 2.8-1.84 1.96-3.34l-7.74-14Zm-2.63.74a.75.75 0 0 1 1.32 0l7.74 14a.75.75 0 0 1-.65 1.11H4.25a.75.75 0 0 1-.65-1.11l7.74-14Z"]),et=ue("Edit24Regular","24",["M20.95 3.05a3.58 3.58 0 0 0-5.06 0L3.94 15c-.4.4-.7.92-.82 1.48l-1.1 4.6a.75.75 0 0 0 .9.9l4.6-1.1A3.1 3.1 0 0 0 9 20.07L20.95 8.11a3.58 3.58 0 0 0 0-5.06Zm-4 1.06a2.08 2.08 0 1 1 2.94 2.94l-.89.89L16.06 5l.9-.9ZM15 6.06 17.94 9l-10 10a1.6 1.6 0 0 1-.76.43l-3.42.8.82-3.4c.06-.3.21-.56.42-.77l10-10Z"]),tt="_container_190jl_7",st="_header_190jl_18",at="_headerLeft_190jl_28",it="_title_190jl_34",nt="_subtitle_190jl_41",ct="_headerActions_190jl_48",ot="_viewToggle_190jl_54",rt="_viewToggleButton_190jl_62",lt="_viewToggleActive_190jl_80",dt="_primaryButton_190jl_89",mt="_backButton_190jl_91",ut="_infoButton_190jl_122",_t="_exportDropdown_190jl_145",gt="_exportButton_190jl_150",ht="_exportMenu_190jl_169",xt="_exportMenuItem_190jl_187",pt="_content_190jl_200",ft="_quickFilters_190jl_209",jt="_quickFilterButton_190jl_215",vt="_quickFilterActive_190jl_235",Nt="_filterBar_190jl_245",bt="_filterGroup_190jl_256",It="_filterLabel_190jl_262",kt="_filterSelect_190jl_268",St="_filterToggle_190jl_284",yt="_filterToggleActive_190jl_301",Ct="_ideasGrid_190jl_308",Lt="_emptyState_190jl_315",wt="_emptyStateIcon_190jl_327",Bt="_emptyStateTitle_190jl_333",Tt="_emptyStateDescription_190jl_340",Dt="_emptyStateButton_190jl_347",At="_loadingState_190jl_369",$t="_loadingText_190jl_378",Et="_errorState_190jl_385",Mt="_errorIcon_190jl_397",Ft="_errorTitle_190jl_403",Rt="_errorDescription_190jl_410",Ht="_pagination_190jl_418",Pt="_paginationButton_190jl_426",qt="_paginationInfo_190jl_450",c={container:tt,header:st,headerLeft:at,title:it,subtitle:nt,headerActions:ct,viewToggle:ot,viewToggleButton:rt,viewToggleActive:lt,primaryButton:dt,backButton:mt,infoButton:ut,exportDropdown:_t,exportButton:gt,exportMenu:ht,exportMenuItem:xt,content:pt,quickFilters:ft,quickFilterButton:jt,quickFilterActive:vt,filterBar:Nt,filterGroup:bt,filterLabel:It,filterSelect:kt,filterToggle:St,filterToggleActive:yt,ideasGrid:Ct,emptyState:Lt,emptyStateIcon:wt,emptyStateTitle:Bt,emptyStateDescription:Tt,emptyStateButton:Dt,loadingState:At,loadingText:$t,errorState:Et,errorIcon:Mt,errorTitle:Ft,errorDescription:Rt,pagination:Ht,paginationButton:Pt,paginationInfo:qt},Gt="_ideaCard_1s2i5_6",Wt="_cardHeader_1s2i5_25",Ut="_statusBadge_1s2i5_32",Vt="_statusDraft_1s2i5_43",Ot="_statusSubmitted_1s2i5_48",Zt="_statusUnderReview_1s2i5_53",zt="_statusApproved_1s2i5_58",Qt="_statusRejected_1s2i5_63",Kt="_statusImplemented_1s2i5_68",Xt="_statusArchived_1s2i5_73",Yt="_cardContent_1s2i5_79",Jt="_cardTitle_1s2i5_86",es="_cardSummary_1s2i5_98",ts="_cardTags_1s2i5_111",ss="_tag_1s2i5_118",as="_tagMore_1s2i5_128",is="_cardFooter_1s2i5_134",ns="_cardMeta_1s2i5_143",cs="_cardSubmitter_1s2i5_149",os="_cardDate_1s2i5_155",rs="_cardDepartment_1s2i5_160",ls="_cardScores_1s2i5_169",ds="_scoreIndicator_1s2i5_175",ms="_scoreLabel_1s2i5_183",us="_scoreValue_1s2i5_187",_s="_scoreHigh_1s2i5_194",gs="_scoreMedium_1s2i5_199",hs="_scoreLow_1s2i5_204",xs="_recommendationBadge_1s2i5_210",ps="_recommendationQuickWin_1s2i5_223",fs="_recommendationHighLeverage_1s2i5_228",js="_recommendationStrategic_1s2i5_233",vs="_recommendationEvaluate_1s2i5_238",Ns="_cardEngagement_1s2i5_256",bs="_engagementItem_1s2i5_264",Is="_engagementIcon_1s2i5_271",ks="_engagementIconLiked_1s2i5_277",Ss="_engagementCount_1s2i5_283",h={ideaCard:Gt,cardHeader:Wt,statusBadge:Ut,statusDraft:Vt,statusSubmitted:Ot,statusUnderReview:Zt,statusApproved:zt,statusRejected:Qt,statusImplemented:Kt,statusArchived:Xt,cardContent:Yt,cardTitle:Jt,cardSummary:es,cardTags:ts,tag:ss,tagMore:as,cardFooter:is,cardMeta:ns,cardSubmitter:cs,cardDate:os,cardDepartment:rs,cardScores:ls,scoreIndicator:ds,scoreLabel:ms,scoreValue:us,scoreHigh:_s,scoreMedium:gs,scoreLow:hs,recommendationBadge:xs,recommendationQuickWin:ps,recommendationHighLeverage:fs,recommendationStrategic:js,recommendationEvaluate:vs,cardEngagement:Ns,engagementItem:bs,engagementIcon:Is,engagementIconLiked:ks,engagementCount:Ss};function ys(t){return t?new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}):""}function Cs(t){switch(t){case C.Draft:return h.statusDraft;case C.Submitted:return h.statusSubmitted;case C.UnderReview:return h.statusUnderReview;case C.Approved:return h.statusApproved;case C.Rejected:return h.statusRejected;case C.Implemented:return h.statusImplemented;case C.Archived:return h.statusArchived;default:return h.statusDraft}}function Ls(t){switch(t){case $.QuickWin:return h.recommendationQuickWin;case $.HighLeverage:return h.recommendationHighLeverage;case $.Strategic:return h.recommendationStrategic;case $.Evaluate:return h.recommendationEvaluate;default:return""}}function be(t){return t===void 0?"":t>=70?h.scoreHigh:t>=40?h.scoreMedium:h.scoreLow}function ws({idea:t,onClick:i,engagement:n}){const{t:u}=re(),g=t.summary||t.description,R=3,x=t.tags?.slice(0,R)||[],m=(t.tags?.length||0)-R;return e.jsxs("article",{className:h.ideaCard,onClick:i,role:"button",tabIndex:0,onKeyPress:L=>L.key==="Enter"&&i(),children:[e.jsxs("div",{className:h.cardHeader,children:[e.jsx("span",{className:`${h.statusBadge} ${Cs(t.status)}`,children:u(`ideas.status.${t.status}`)}),t.recommendationClass&&e.jsx("span",{className:`${h.recommendationBadge} ${Ls(t.recommendationClass)}`,children:u(`ideas.recommendation.${t.recommendationClass}`)})]}),e.jsxs("div",{className:h.cardContent,children:[e.jsx("h3",{className:h.cardTitle,children:t.title}),e.jsx("p",{className:h.cardSummary,children:g}),x.length>0&&e.jsxs("div",{className:h.cardTags,children:[x.map(L=>e.jsx("span",{className:h.tag,children:L},L)),m>0&&e.jsxs("span",{className:`${h.tag} ${h.tagMore}`,children:["+",m]})]}),(t.impactScore!==void 0||t.feasibilityScore!==void 0)&&e.jsxs("div",{className:h.cardScores,children:[t.impactScore!==void 0&&e.jsxs("div",{className:h.scoreIndicator,children:[e.jsxs("span",{className:h.scoreLabel,children:[u("ideas.impact"),":"]}),e.jsx("span",{className:`${h.scoreValue} ${be(t.impactScore)}`,children:t.impactScore})]}),t.feasibilityScore!==void 0&&e.jsxs("div",{className:h.scoreIndicator,children:[e.jsxs("span",{className:h.scoreLabel,children:[u("ideas.feasibility"),":"]}),e.jsx("span",{className:`${h.scoreValue} ${be(t.feasibilityScore)}`,children:t.feasibilityScore})]})]}),n&&e.jsxs("div",{className:h.cardEngagement,children:[e.jsxs("div",{className:h.engagementItem,children:[n.userHasLiked?e.jsx(ye,{className:h.engagementIconLiked}):e.jsx(Ce,{className:h.engagementIcon}),e.jsx("span",{className:h.engagementCount,children:n.likeCount})]}),e.jsxs("div",{className:h.engagementItem,children:[e.jsx(he,{className:h.engagementIcon}),e.jsx("span",{className:h.engagementCount,children:n.commentCount})]})]}),e.jsxs("div",{className:h.cardFooter,children:[e.jsxs("div",{className:h.cardMeta,children:[t.submitterName&&e.jsx("span",{className:h.cardSubmitter,children:t.submitterName}),e.jsx("span",{className:h.cardDate,children:ys(t.createdAt)})]}),t.department&&e.jsx("span",{className:h.cardDepartment,children:t.department})]})]})]})}const Bs="_panel_1g7ex_6",Ts="_content_1g7ex_10",Ds="_header_1g7ex_18",As="_statusBadge_1g7ex_25",$s="_statusDraft_1g7ex_36",Es="_statusSubmitted_1g7ex_37",Ms="_statusUnderReview_1g7ex_38",Fs="_statusApproved_1g7ex_39",Rs="_statusRejected_1g7ex_40",Hs="_statusImplemented_1g7ex_41",Ps="_statusArchived_1g7ex_42",qs="_metadata_1g7ex_45",Gs="_metaItem_1g7ex_54",Ws="_metaLabel_1g7ex_60",Us="_metaValue_1g7ex_67",Vs="_section_1g7ex_74",Os="_sectionTitle_1g7ex_80",Zs="_sectionContent_1g7ex_90",zs="_tagsList_1g7ex_97",Qs="_tag_1g7ex_97",Ks="_scoresGrid_1g7ex_114",Xs="_scoreCard_1g7ex_120",Ys="_scoreLabel_1g7ex_129",Js="_scoreValue_1g7ex_136",ea="_scoreHigh_1g7ex_142",ta="_scoreMedium_1g7ex_143",sa="_scoreLow_1g7ex_144",aa="_scoreBar_1g7ex_146",ia="_scoreBarFill_1g7ex_153",na="_scoreBarHigh_1g7ex_159",ca="_scoreBarMedium_1g7ex_160",oa="_scoreBarLow_1g7ex_161",ra="_recommendationBadge_1g7ex_164",la="_recommendationQuickWin_1g7ex_174",da="_recommendationHighLeverage_1g7ex_175",ma="_recommendationStrategic_1g7ex_176",ua="_recommendationEvaluate_1g7ex_177",_a="_kpiGrid_1g7ex_180",ga="_kpiItem_1g7ex_186",ha="_kpiLabel_1g7ex_193",xa="_kpiValue_1g7ex_199",pa="_itemsList_1g7ex_206",fa="_listItem_1g7ex_212",ja="_actions_1g7ex_223",va="_editButton_1g7ex_230",Na="_deleteButton_1g7ex_247",ba="_confirmOverlay_1g7ex_271",Ia="_confirmDialog_1g7ex_285",ka="_confirmTitle_1g7ex_295",Sa="_confirmMessage_1g7ex_302",ya="_confirmActions_1g7ex_308",Ca="_errorMessage_1g7ex_314",La="_analysisInfo_1g7ex_324",wa="_loadingOverlay_1g7ex_340",Ba="_engagementSection_1g7ex_354",Ta="_likeButton_1g7ex_363",Da="_liked_1g7ex_381",Aa="_likeIcon_1g7ex_391",$a="_likeIconFilled_1g7ex_397",Ea="_likeCount_1g7ex_403",Ma="_likeLabel_1g7ex_408",Fa="_commentCount_1g7ex_412",Ra="_commentIcon_1g7ex_420",Ha="_commentLabel_1g7ex_425",Pa="_commentsSection_1g7ex_430",qa="_commentsLoading_1g7ex_435",Ga="_noComments_1g7ex_441",Wa="_commentsList_1g7ex_448",Ua="_commentItem_1g7ex_455",Va="_commentHeader_1g7ex_461",Oa="_commentAuthor_1g7ex_468",Za="_commentDate_1g7ex_474",za="_commentContent_1g7ex_479",Qa="_commentActions_1g7ex_486",Ka="_commentActionButton_1g7ex_492",Xa="_commentEditForm_1g7ex_513",Ya="_commentEditInput_1g7ex_519",Ja="_commentEditActions_1g7ex_523",ei="_newCommentForm_1g7ex_530",ti="_newCommentInput_1g7ex_539",si="_submitCommentButton_1g7ex_543",s={panel:Bs,content:Ts,header:Ds,statusBadge:As,statusDraft:$s,statusSubmitted:Es,statusUnderReview:Ms,statusApproved:Fs,statusRejected:Rs,statusImplemented:Hs,statusArchived:Ps,metadata:qs,metaItem:Gs,metaLabel:Ws,metaValue:Us,section:Vs,sectionTitle:Os,sectionContent:Zs,tagsList:zs,tag:Qs,scoresGrid:Ks,scoreCard:Xs,scoreLabel:Ys,scoreValue:Js,scoreHigh:ea,scoreMedium:ta,scoreLow:sa,scoreBar:aa,scoreBarFill:ia,scoreBarHigh:na,scoreBarMedium:ca,scoreBarLow:oa,recommendationBadge:ra,recommendationQuickWin:la,recommendationHighLeverage:da,recommendationStrategic:ma,recommendationEvaluate:ua,kpiGrid:_a,kpiItem:ga,kpiLabel:ha,kpiValue:xa,itemsList:pa,listItem:fa,actions:ja,editButton:va,deleteButton:Na,confirmOverlay:ba,confirmDialog:Ia,confirmTitle:ka,confirmMessage:Sa,confirmActions:ya,errorMessage:Ca,analysisInfo:La,loadingOverlay:wa,engagementSection:Ba,likeButton:Ta,liked:Da,likeIcon:Aa,likeIconFilled:$a,likeCount:Ea,likeLabel:Ma,commentCount:Fa,commentIcon:Ra,commentLabel:Ha,commentsSection:Pa,commentsLoading:qa,noComments:Ga,commentsList:Wa,commentItem:Ua,commentHeader:Va,commentAuthor:Oa,commentDate:Za,commentContent:za,commentActions:Qa,commentActionButton:Ka,commentEditForm:Xa,commentEditInput:Ya,commentEditActions:Ja,newCommentForm:ei,newCommentInput:ti,submitCommentButton:si};function _e(t){return t?new Date(t).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):""}function ai(t){return{[C.Draft]:s.statusDraft,[C.Submitted]:s.statusSubmitted,[C.UnderReview]:s.statusUnderReview,[C.Approved]:s.statusApproved,[C.Rejected]:s.statusRejected,[C.Implemented]:s.statusImplemented,[C.Archived]:s.statusArchived}[t]||s.statusDraft}function ii(t){return t&&{[$.QuickWin]:s.recommendationQuickWin,[$.HighLeverage]:s.recommendationHighLeverage,[$.Strategic]:s.recommendationStrategic,[$.Evaluate]:s.recommendationEvaluate}[t]||""}function Ie(t){return t===void 0?"":t>=70?s.scoreHigh:t>=40?s.scoreMedium:s.scoreLow}function ke(t){return t===void 0?"":t>=70?s.scoreBarHigh:t>=40?s.scoreBarMedium:s.scoreBarLow}function ni({idea:t,onClose:i,onUpdated:n,onDeleted:u,currentUserId:g,isAdmin:R=!1}){const x=xe?pe().instance:void 0,{t:m}=re(),[L,Z]=a.useState(!1),[r,U]=a.useState(!1),[w,z]=a.useState(null),[v,T]=a.useState(null),[B,j]=a.useState(!1),[f,k]=a.useState([]),[S,D]=a.useState(!1),[I,K]=a.useState(""),[H,X]=a.useState(!1),[Q,E]=a.useState(null),[G,A]=a.useState(""),[P,V]=a.useState(null),q=a.useCallback(d=>{d.key==="Escape"&&!r&&i()},[i,r]);a.useEffect(()=>(document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)),[q]),a.useEffect(()=>{(async()=>{try{const y=x?await W(x):void 0,M=await Be(t.ideaId,y);T(M)}catch(y){console.error("Error loading engagement:",y)}})()},[x,t.ideaId]),a.useEffect(()=>{(async()=>{D(!0);try{const y=x?await W(x):void 0,M=await Ge(t.ideaId,y,{sortOrder:"asc"});k(M.comments)}catch(y){console.error("Error loading comments:",y)}finally{D(!1)}})()},[x,t.ideaId]);const se=a.useCallback(async()=>{if(!(B||!v)){j(!0);try{const d=x?await W(x):void 0;v.userHasLiked?(await $e(t.ideaId,d),T({...v,likeCount:v.likeCount-1,userHasLiked:!1})):(await Ee(t.ideaId,d),T({...v,likeCount:v.likeCount+1,userHasLiked:!0}))}catch(d){console.error("Error toggling like:",d)}finally{j(!1)}}},[x,t.ideaId,v,B]),ae=a.useCallback(async()=>{if(!(!I.trim()||H)){X(!0);try{const d=x?await W(x):void 0,y=await Me(t.ideaId,{content:I.trim()},d);k([...f,y.comment]),K(""),v&&T({...v,commentCount:v.commentCount+1})}catch(d){console.error("Error creating comment:",d)}finally{X(!1)}}},[x,t.ideaId,I,f,v,H]),ie=a.useCallback(async d=>{if(G.trim())try{const y=x?await W(x):void 0,M=await Fe(t.ideaId,d,{content:G.trim()},y);k(f.map(p=>p.commentId===d?M.comment:p)),E(null),A("")}catch(y){console.error("Error updating comment:",y)}},[x,t.ideaId,G,f]),le=a.useCallback(async d=>{V(d);try{const y=x?await W(x):void 0;await Re(t.ideaId,d,y),k(f.filter(M=>M.commentId!==d)),v&&T({...v,commentCount:Math.max(0,v.commentCount-1)})}catch(y){console.error("Error deleting comment:",y)}finally{V(null)}},[x,t.ideaId,f,v]),Y=d=>new Date(d).toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),J=g&&t.submitterId===g,ee=t.status===C.Draft||t.status===C.Submitted,l=J&&ee,b=J&&ee||R;return e.jsx(e.Fragment,{children:e.jsxs(Le,{isOpen:!0,onDismiss:i,type:we.medium,headerText:t.title,closeButtonAriaLabel:m("ideas.close"),isLightDismiss:!r&&!L,className:s.panel,children:[e.jsxs("div",{className:s.content,children:[e.jsxs("div",{className:s.header,children:[e.jsx("span",{className:`${s.statusBadge} ${ai(t.status)}`,children:m(`ideas.status.${t.status}`)}),t.recommendationClass&&e.jsx("span",{className:`${s.recommendationBadge} ${ii(t.recommendationClass)}`,children:m(`ideas.recommendation.${t.recommendationClass}`)})]}),e.jsxs("div",{className:s.metadata,children:[t.submitterName&&e.jsxs("div",{className:s.metaItem,children:[e.jsx("span",{className:s.metaLabel,children:m("ideas.submittedBy")}),e.jsx("span",{className:s.metaValue,children:t.submitterName})]}),t.department&&e.jsxs("div",{className:s.metaItem,children:[e.jsx("span",{className:s.metaLabel,children:m("ideas.department")}),e.jsx("span",{className:s.metaValue,children:t.department})]}),e.jsxs("div",{className:s.metaItem,children:[e.jsx("span",{className:s.metaLabel,children:m("ideas.createdAt")}),e.jsx("span",{className:s.metaValue,children:_e(t.createdAt)})]}),t.updatedAt!==t.createdAt&&e.jsxs("div",{className:s.metaItem,children:[e.jsx("span",{className:s.metaLabel,children:m("ideas.updatedAt")}),e.jsx("span",{className:s.metaValue,children:_e(t.updatedAt)})]})]}),t.summary&&e.jsxs("div",{className:s.section,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsx(ge,{}),m("ideas.aiSummary")]}),e.jsx("p",{className:s.sectionContent,children:t.summary})]}),e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.description")}),e.jsx("p",{className:s.sectionContent,children:t.description})]}),t.problemDescription&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.problemDescription")}),e.jsx("p",{className:s.sectionContent,children:t.problemDescription})]}),t.expectedBenefit&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.expectedBenefit")}),e.jsx("p",{className:s.sectionContent,children:t.expectedBenefit})]}),t.tags&&t.tags.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.tags")}),e.jsx("div",{className:s.tagsList,children:t.tags.map(d=>e.jsx("span",{className:s.tag,children:d},d))})]}),(t.impactScore!==void 0||t.feasibilityScore!==void 0)&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.scores")}),e.jsxs("div",{className:s.scoresGrid,children:[t.impactScore!==void 0&&e.jsxs("div",{className:s.scoreCard,children:[e.jsx("span",{className:s.scoreLabel,children:m("ideas.impactScore")}),e.jsx("span",{className:`${s.scoreValue} ${Ie(t.impactScore)}`,children:t.impactScore}),e.jsx("div",{className:s.scoreBar,children:e.jsx("div",{className:`${s.scoreBarFill} ${ke(t.impactScore)}`,style:{width:`${t.impactScore}%`}})})]}),t.feasibilityScore!==void 0&&e.jsxs("div",{className:s.scoreCard,children:[e.jsx("span",{className:s.scoreLabel,children:m("ideas.feasibilityScore")}),e.jsx("span",{className:`${s.scoreValue} ${Ie(t.feasibilityScore)}`,children:t.feasibilityScore}),e.jsx("div",{className:s.scoreBar,children:e.jsx("div",{className:`${s.scoreBarFill} ${ke(t.feasibilityScore)}`,style:{width:`${t.feasibilityScore}%`}})})]})]})]}),t.kpiEstimates&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.kpiEstimates")}),e.jsxs("div",{className:s.kpiGrid,children:[t.kpiEstimates.timeSavingsHours!==void 0&&e.jsxs("div",{className:s.kpiItem,children:[e.jsx("div",{className:s.kpiLabel,children:m("ideas.kpi.timeSavings")}),e.jsxs("div",{className:s.kpiValue,children:[t.kpiEstimates.timeSavingsHours,"h"]})]}),t.kpiEstimates.costReductionEur!==void 0&&e.jsxs("div",{className:s.kpiItem,children:[e.jsx("div",{className:s.kpiLabel,children:m("ideas.kpi.costReduction")}),e.jsxs("div",{className:s.kpiValue,children:[t.kpiEstimates.costReductionEur," EUR"]})]}),t.kpiEstimates.qualityImprovementPercent!==void 0&&e.jsxs("div",{className:s.kpiItem,children:[e.jsx("div",{className:s.kpiLabel,children:m("ideas.kpi.qualityImprovement")}),e.jsxs("div",{className:s.kpiValue,children:[t.kpiEstimates.qualityImprovementPercent,"%"]})]})]})]}),t.affectedProcesses&&t.affectedProcesses.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.affectedProcesses")}),e.jsx("div",{className:s.itemsList,children:t.affectedProcesses.map(d=>e.jsx("span",{className:s.listItem,children:d},d))})]}),t.targetUsers&&t.targetUsers.length>0&&e.jsxs("div",{className:s.section,children:[e.jsx("h3",{className:s.sectionTitle,children:m("ideas.targetUsers")}),e.jsx("div",{className:s.itemsList,children:t.targetUsers.map(d=>e.jsx("span",{className:s.listItem,children:d},d))})]}),t.analyzedAt&&e.jsxs("div",{className:s.analysisInfo,children:[e.jsx(ge,{}),e.jsx("span",{children:m("ideas.analyzedAt",{date:_e(t.analyzedAt)})})]}),v&&e.jsxs("div",{className:s.engagementSection,children:[e.jsxs("button",{className:`${s.likeButton} ${v.userHasLiked?s.liked:""}`,onClick:se,disabled:B,"aria-label":v.userHasLiked?m("ideas.unlike"):m("ideas.like"),children:[v.userHasLiked?e.jsx(ye,{className:s.likeIconFilled}):e.jsx(Ce,{className:s.likeIcon}),e.jsx("span",{className:s.likeCount,children:v.likeCount}),e.jsx("span",{className:s.likeLabel,children:v.likeCount===1?m("ideas.like"):m("ideas.likes")})]}),e.jsxs("div",{className:s.commentCount,children:[e.jsx(he,{className:s.commentIcon}),e.jsx("span",{children:v.commentCount}),e.jsx("span",{className:s.commentLabel,children:v.commentCount===1?m("ideas.comment"):m("ideas.comments")})]})]}),e.jsxs("div",{className:s.commentsSection,children:[e.jsxs("h3",{className:s.sectionTitle,children:[e.jsx(he,{}),m("ideas.comments")]}),S?e.jsx("div",{className:s.commentsLoading,children:e.jsx(ce,{size:oe.small})}):f.length===0?e.jsx("p",{className:s.noComments,children:m("ideas.noComments")}):e.jsx("div",{className:s.commentsList,children:f.map(d=>e.jsxs("div",{className:s.commentItem,children:[e.jsxs("div",{className:s.commentHeader,children:[e.jsx("span",{className:s.commentAuthor,children:d.userId}),e.jsx("span",{className:s.commentDate,children:Y(d.createdAt)})]}),Q===d.commentId?e.jsxs("div",{className:s.commentEditForm,children:[e.jsx(te,{multiline:!0,rows:2,value:G,onChange:(y,M)=>A(M||""),className:s.commentEditInput}),e.jsxs("div",{className:s.commentEditActions,children:[e.jsx(me,{text:m("ideas.cancel"),onClick:()=>{E(null),A("")}}),e.jsx(de,{text:m("ideas.save"),onClick:()=>ie(d.commentId)})]})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:s.commentContent,children:d.content}),g===d.userId&&e.jsxs("div",{className:s.commentActions,children:[e.jsx("button",{className:s.commentActionButton,onClick:()=>{E(d.commentId),A(d.content)},children:m("ideas.edit")}),e.jsx("button",{className:s.commentActionButton,onClick:()=>le(d.commentId),disabled:P===d.commentId,children:P===d.commentId?e.jsx(ce,{size:oe.xSmall}):m("ideas.delete")})]})]})]},d.commentId))}),e.jsxs("div",{className:s.newCommentForm,children:[e.jsx(te,{multiline:!0,rows:2,placeholder:m("ideas.addComment"),value:I,onChange:(d,y)=>K(y||""),className:s.newCommentInput}),e.jsx(de,{className:s.submitCommentButton,onClick:ae,disabled:!I.trim()||H,children:H?e.jsx(ce,{size:oe.xSmall}):e.jsxs(e.Fragment,{children:[e.jsx(He,{}),m("ideas.submitComment")]})})]})]}),(l||b)&&e.jsxs("div",{className:s.actions,children:[l&&e.jsxs(de,{className:s.editButton,disabled:L,children:[e.jsx(et,{}),m("ideas.edit")]}),b&&e.jsxs(me,{className:s.deleteButton,onClick:()=>U(!0),disabled:L,children:[e.jsx(Pe,{}),m("ideas.delete")]})]})]}),L&&e.jsx("div",{className:s.loadingOverlay,children:e.jsx(ce,{size:oe.large})}),r&&e.jsx("div",{className:s.confirmOverlay,role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:s.confirmDialog,children:[e.jsx("h3",{className:s.confirmTitle,children:m("ideas.deleteConfirmTitle")}),e.jsx("p",{className:s.confirmMessage,children:m("ideas.deleteConfirmMessage")}),w&&e.jsx("div",{className:s.errorMessage,children:w}),e.jsxs("div",{className:s.confirmActions,children:[e.jsx(me,{onClick:()=>U(!1),text:m("ideas.cancel"),disabled:L}),e.jsx(de,{onClick:async()=>{Z(!0),z(null);try{const d=x?await W(x):void 0;await qe(t.ideaId,d),U(!1),u(t.ideaId)}catch(d){console.error("Error deleting idea:",d),z(d instanceof Error?d.message:m("ideas.deleteError")),Z(!1)}},text:m(L?"ideas.deleting":"ideas.confirmDelete"),disabled:L,styles:{root:{backgroundColor:"#d13438",borderColor:"#d13438"},rootHovered:{backgroundColor:"#a4262c",borderColor:"#a4262c"},rootPressed:{backgroundColor:"#8a2121",borderColor:"#8a2121"}}})]})]})})]})})}const ci="_panel_1ofvs_6",oi="_content_1ofvs_10",ri="_description_1ofvs_17",li="_formGroup_1ofvs_25",di="_formLabel_1ofvs_31",mi="_formLabelRequired_1ofvs_37",ui="_formHint_1ofvs_42",_i="_formInput_1ofvs_48",gi="_formTextarea_1ofvs_65",hi="_tagsContainer_1ofvs_76",xi="_tag_1ofvs_76",pi="_tagRemove_1ofvs_103",fi="_tagInput_1ofvs_122",ji="_actions_1ofvs_132",vi="_submitButton_1ofvs_140",Ni="_cancelButton_1ofvs_162",bi="_warningSection_1ofvs_181",Ii="_warningTitle_1ofvs_188",ki="_warningList_1ofvs_198",Si="_warningItem_1ofvs_204",yi="_warningItemTitle_1ofvs_214",Ci="_warningItemScore_1ofvs_220",Li="_warningActions_1ofvs_225",wi="_warningButton_1ofvs_231",Bi="_warningButtonPrimary_1ofvs_239",Ti="_infoBanner_1ofvs_281",_={panel:ci,content:oi,description:ri,formGroup:li,formLabel:di,formLabelRequired:mi,formHint:ui,formInput:_i,formTextarea:gi,tagsContainer:hi,tag:xi,tagRemove:pi,tagInput:fi,actions:ji,submitButton:vi,cancelButton:Ni,warningSection:bi,warningTitle:Ii,warningList:ki,warningItem:Si,warningItemTitle:yi,warningItemScore:Ci,warningActions:Li,warningButton:wi,warningButtonPrimary:Bi,infoBanner:Ti},Di=1e3;function Ai({onClose:t,onSubmitted:i}){const n=xe?pe().instance:void 0,{t:u}=re(),[g,R]=a.useState(""),[x,m]=a.useState(""),[L,Z]=a.useState(""),[r,U]=a.useState(""),[w,z]=a.useState([]),[v,T]=a.useState(""),[B,j]=a.useState([]),[f,k]=a.useState(""),[S,D]=a.useState(""),[I,K]=a.useState(!1),[H,X]=a.useState(!1),[Q,E]=a.useState([]),[G,A]=a.useState(!1),[P,V]=a.useState(null),[q,se]=a.useState({}),ae=a.useCallback(()=>{const l={};return g.trim()?g.length<5?l.title=u("ideas.validation.titleTooShort"):g.length>200&&(l.title=u("ideas.validation.titleTooLong")):l.title=u("ideas.validation.titleRequired"),x.trim()?x.length<20&&(l.description=u("ideas.validation.descriptionTooShort")):l.description=u("ideas.validation.descriptionRequired"),se(l),Object.keys(l).length===0},[g,x,u]),ie=a.useCallback(async()=>{const l=`${g} ${x}`.trim();if(l.length<20){E([]);return}X(!0);try{const b=n?await W(n):void 0,d=await We(l,b,{threshold:.7,limit:5});E(d.similarIdeas),d.similarIdeas.length>0&&A(!0)}catch(b){console.error("Error checking for duplicates:",b)}finally{X(!1)}},[n,g,x]);a.useEffect(()=>{const l=setTimeout(()=>{g.length>=5&&x.length>=10&&ie()},Di);return()=>clearTimeout(l)},[g,x,ie]);const le=a.useCallback(async()=>{if(ae()){K(!0),V(null);try{const l=n?await W(n):void 0,b={title:g.trim(),description:x.trim(),problemDescription:L.trim()||void 0,expectedBenefit:r.trim()||void 0,affectedProcesses:w.length>0?w:void 0,targetUsers:B.length>0?B:void 0,department:S.trim()||void 0,status:C.Submitted},d=await Ue(b,l);i(d)}catch(l){console.error("Error submitting idea:",l),V(l instanceof Error?l.message:u("ideas.submitError"))}finally{K(!1)}}},[n,g,x,L,r,w,B,S,ae,i,u]),Y=a.useCallback(()=>{const l=v.trim();l&&!w.includes(l)&&(z([...w,l]),T(""))},[v,w]),J=a.useCallback(()=>{const l=f.trim();l&&!B.includes(l)&&(j([...B,l]),k(""))},[f,B]),ee=a.useCallback((l,b)=>{(l.key==="Enter"||l.key===",")&&(l.preventDefault(),b())},[]);return e.jsx(Le,{isOpen:!0,onDismiss:t,type:we.medium,headerText:u("ideas.submitIdeaTitle"),closeButtonAriaLabel:u("ideas.close"),isLightDismiss:!I,className:_.panel,children:e.jsxs("div",{className:_.content,children:[e.jsx("p",{className:_.description,children:u("ideas.submitDescription")}),P&&e.jsx(Ve,{messageBarType:Oe.error,onDismiss:()=>V(null),children:P}),G&&Q.length>0&&e.jsxs("div",{className:_.warningSection,children:[e.jsxs("h4",{className:_.warningTitle,children:[e.jsx(Te,{}),u("ideas.similarIdeasFound")]}),e.jsx("div",{className:_.warningList,children:Q.slice(0,3).map(l=>e.jsxs("div",{className:_.warningItem,children:[e.jsx("span",{className:_.warningItemTitle,children:l.title}),e.jsxs("span",{className:_.warningItemScore,children:[Math.round(l.similarityScore*100),"% ",u("ideas.similar")]})]},l.ideaId))}),e.jsx("div",{className:_.warningActions,children:e.jsx("button",{className:`${_.warningButton} ${_.warningButtonPrimary}`,onClick:()=>A(!1),children:u("ideas.continueAnyway")})})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:`${_.formLabel} ${_.formLabelRequired}`,children:u("ideas.form.title")}),e.jsx(te,{value:g,onChange:(l,b)=>R(b||""),placeholder:u("ideas.form.titlePlaceholder"),className:_.formInput,disabled:I,errorMessage:q.title})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:`${_.formLabel} ${_.formLabelRequired}`,children:u("ideas.form.description")}),e.jsx(te,{value:x,onChange:(l,b)=>m(b||""),placeholder:u("ideas.form.descriptionPlaceholder"),multiline:!0,rows:4,className:`${_.formInput} ${_.formTextarea}`,disabled:I,errorMessage:q.description}),e.jsx("span",{className:_.formHint,children:u("ideas.form.descriptionHint")})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:_.formLabel,children:u("ideas.form.problemDescription")}),e.jsx(te,{value:L,onChange:(l,b)=>Z(b||""),placeholder:u("ideas.form.problemDescriptionPlaceholder"),multiline:!0,rows:3,className:`${_.formInput} ${_.formTextarea}`,disabled:I})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:_.formLabel,children:u("ideas.form.expectedBenefit")}),e.jsx(te,{value:r,onChange:(l,b)=>U(b||""),placeholder:u("ideas.form.expectedBenefitPlaceholder"),multiline:!0,rows:3,className:`${_.formInput} ${_.formTextarea}`,disabled:I})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:_.formLabel,children:u("ideas.form.affectedProcesses")}),e.jsxs("div",{className:_.tagsContainer,children:[w.map(l=>e.jsxs("span",{className:_.tag,children:[l,e.jsx("button",{className:_.tagRemove,onClick:()=>z(w.filter(b=>b!==l)),disabled:I,children:e.jsx(ve,{})})]},l)),e.jsx("input",{type:"text",value:v,onChange:l=>T(l.target.value),onKeyPress:l=>ee(l,Y),onBlur:Y,placeholder:w.length===0?u("ideas.form.affectedProcessesPlaceholder"):"",className:_.tagInput,disabled:I})]})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:_.formLabel,children:u("ideas.form.targetUsers")}),e.jsxs("div",{className:_.tagsContainer,children:[B.map(l=>e.jsxs("span",{className:_.tag,children:[l,e.jsx("button",{className:_.tagRemove,onClick:()=>j(B.filter(b=>b!==l)),disabled:I,children:e.jsx(ve,{})})]},l)),e.jsx("input",{type:"text",value:f,onChange:l=>k(l.target.value),onKeyPress:l=>ee(l,J),onBlur:J,placeholder:B.length===0?u("ideas.form.targetUsersPlaceholder"):"",className:_.tagInput,disabled:I})]})]}),e.jsxs("div",{className:_.formGroup,children:[e.jsx("label",{className:_.formLabel,children:u("ideas.form.department")}),e.jsx(te,{value:S,onChange:(l,b)=>D(b||""),placeholder:u("ideas.form.departmentPlaceholder"),className:_.formInput,disabled:I})]}),e.jsxs("div",{className:_.actions,children:[e.jsx(me,{onClick:t,disabled:I,className:_.cancelButton,children:u("ideas.cancel")}),e.jsx(de,{onClick:le,disabled:I||!g.trim()||!x.trim(),className:_.submitButton,children:I?e.jsx(ce,{size:oe.small}):u("ideas.submit")})]}),H&&e.jsx("div",{className:_.infoBanner,children:e.jsx("p",{children:u("ideas.checkingForDuplicates")})})]})})}const $i="_container_1gsxu_7",Ei="_header_1gsxu_18",Mi="_title_1gsxu_25",Fi="_legend_1gsxu_32",Ri="_legendItem_1gsxu_38",Hi="_legendDot_1gsxu_44",Pi="_legendLabel_1gsxu_51",qi="_chart_1gsxu_56",Gi="_gridLine_1gsxu_62",Wi="_gridLineMajor_1gsxu_67",Ui="_quadrantLabel_1gsxu_73",Vi="_axisLabel_1gsxu_81",Oi="_tickLabel_1gsxu_88",Zi="_dataPoint_1gsxu_94",zi="_tooltip_1gsxu_104",Qi="_tooltipTitle_1gsxu_117",Ki="_tooltipScore_1gsxu_125",Xi="_tooltipHint_1gsxu_131",Yi="_emptyState_1gsxu_138",N={container:$i,header:Ei,title:Mi,legend:Fi,legendItem:Ri,legendDot:Hi,legendLabel:Pi,chart:qi,gridLine:Gi,gridLineMajor:Wi,quadrantLabel:Ui,axisLabel:Vi,tickLabel:Oi,dataPoint:Zi,tooltip:zi,tooltipTitle:Qi,tooltipScore:Ki,tooltipHint:Xi,emptyState:Yi},Se={[$.QuickWin]:"#4CAF50",[$.HighLeverage]:"#DCFF4A",[$.Strategic]:"#2196F3",[$.Evaluate]:"#9E9E9E",[$.Unclassified]:"#BDBDBD"};function Ji({ideas:t,onIdeaClick:i}){const{t:n}=re(),u=a.useRef(null),[g,R]=a.useState({width:600,height:400}),[x,m]=a.useState(null),[L,Z]=a.useState({x:0,y:0}),r={top:40,right:40,bottom:60,left:60};a.useEffect(()=>{const j=()=>{if(u.current){const f=u.current.getBoundingClientRect();R({width:Math.max(400,f.width),height:Math.max(300,f.height)})}};return j(),window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]);const U=a.useMemo(()=>{const j=g.width-r.left-r.right,f=g.height-r.top-r.bottom;return t.filter(k=>k.impactScore!==void 0&&k.feasibilityScore!==void 0).map(k=>({idea:k,x:r.left+k.feasibilityScore/100*j,y:r.top+f-k.impactScore/100*f,color:Se[k.recommendationClass||$.Unclassified]}))},[t,g,r]),w=a.useCallback((j,f)=>{m(f),Z({x:j.clientX,y:j.clientY})},[]),z=a.useCallback(()=>{m(null)},[]),v=()=>{const j=g.width-r.left-r.right,f=g.height-r.top-r.bottom,k=[];for(let S=0;S<=10;S++){const D=r.top+f/10*S;k.push(e.jsx("line",{x1:r.left,y1:D,x2:g.width-r.right,y2:D,className:S===3||S===7?N.gridLineMajor:N.gridLine},`h-${S}`))}for(let S=0;S<=10;S++){const D=r.left+j/10*S;k.push(e.jsx("line",{x1:D,y1:r.top,x2:D,y2:g.height-r.bottom,className:S===3||S===7?N.gridLineMajor:N.gridLine},`v-${S}`))}return k},T=()=>{const j=g.width-r.left-r.right,f=g.height-r.top-r.bottom;return e.jsxs(e.Fragment,{children:[e.jsx("text",{x:r.left+j*.15,y:r.top+f*.15,className:N.quadrantLabel,children:n("ideas.matrix.strategic")}),e.jsx("text",{x:r.left+j*.85,y:r.top+f*.15,className:N.quadrantLabel,children:n("ideas.matrix.highLeverage")}),e.jsx("text",{x:r.left+j*.15,y:r.top+f*.85,className:N.quadrantLabel,children:n("ideas.matrix.evaluate")}),e.jsx("text",{x:r.left+j*.85,y:r.top+f*.85,className:N.quadrantLabel,children:n("ideas.matrix.quickWin")})]})},B=()=>{const j=g.width-r.left-r.right,f=g.height-r.top-r.bottom;return e.jsxs(e.Fragment,{children:[e.jsx("text",{x:r.left+j/2,y:g.height-10,className:N.axisLabel,children:n("ideas.matrix.feasibility")}),e.jsx("text",{x:15,y:r.top+f/2,className:N.axisLabel,transform:`rotate(-90, 15, ${r.top+f/2})`,children:n("ideas.matrix.impact")}),e.jsx("text",{x:r.left,y:g.height-r.bottom+20,className:N.tickLabel,children:"0"}),e.jsx("text",{x:r.left+j/2,y:g.height-r.bottom+20,className:N.tickLabel,children:"50"}),e.jsx("text",{x:g.width-r.right,y:g.height-r.bottom+20,className:N.tickLabel,children:"100"}),e.jsx("text",{x:r.left-25,y:g.height-r.bottom,className:N.tickLabel,children:"0"}),e.jsx("text",{x:r.left-25,y:r.top+f/2,className:N.tickLabel,children:"50"}),e.jsx("text",{x:r.left-30,y:r.top,className:N.tickLabel,children:"100"})]})};return e.jsxs("div",{className:N.container,ref:u,children:[e.jsxs("div",{className:N.header,children:[e.jsx("h3",{className:N.title,children:n("ideas.matrix.title")}),e.jsx("div",{className:N.legend,children:Object.entries(Se).slice(0,4).map(([j,f])=>e.jsxs("div",{className:N.legendItem,children:[e.jsx("span",{className:N.legendDot,style:{backgroundColor:f}}),e.jsx("span",{className:N.legendLabel,children:n(`ideas.recommendation.${j}`)})]},j))})]}),e.jsxs("svg",{width:g.width,height:g.height,className:N.chart,children:[v(),T(),B(),U.map(({idea:j,x:f,y:k,color:S})=>e.jsx("circle",{cx:f,cy:k,r:8,fill:S,stroke:"#000",strokeWidth:x?.ideaId===j.ideaId?3:1,className:N.dataPoint,onClick:()=>i(j),onMouseMove:D=>w(D,j),onMouseLeave:z},j.ideaId))]}),x&&e.jsxs("div",{className:N.tooltip,style:{left:L.x+10,top:L.y+10},children:[e.jsx("div",{className:N.tooltipTitle,children:x.title}),e.jsxs("div",{className:N.tooltipScore,children:[n("ideas.impact"),": ",x.impactScore]}),e.jsxs("div",{className:N.tooltipScore,children:[n("ideas.feasibility"),": ",x.feasibilityScore]}),e.jsx("div",{className:N.tooltipHint,children:n("ideas.matrix.clickToView")})]}),U.length===0&&e.jsx("div",{className:N.emptyState,children:e.jsx("p",{children:n("ideas.matrix.noData")})})]})}const en="_overlay_yeoi5_6",tn="_dialog_yeoi5_21",sn="_header_yeoi5_33",an="_title_yeoi5_43",nn="_closeButton_yeoi5_51",cn="_content_yeoi5_71",on="_section_yeoi5_77",rn="_sectionTitle_yeoi5_85",ln="_paragraph_yeoi5_94",dn="_list_yeoi5_105",mn="_subList_yeoi5_131",un="_step_yeoi5_158",_n="_stepNumber_yeoi5_168",gn="_stepContent_yeoi5_182",hn="_stepTitle_yeoi5_186",xn="_scoreBox_yeoi5_194",pn="_scoreTitle_yeoi5_206",fn="_classificationGrid_yeoi5_214",jn="_classificationCard_yeoi5_221",vn="_classificationName_yeoi5_227",Nn="_classificationDesc_yeoi5_233",bn="_highLeverage_yeoi5_240",In="_quickWin_yeoi5_249",kn="_strategic_yeoi5_258",Sn="_evaluate_yeoi5_267",yn="_footer_yeoi5_277",Cn="_closeButtonPrimary_yeoi5_286",o={overlay:en,dialog:tn,header:sn,title:an,closeButton:nn,content:cn,section:on,sectionTitle:rn,paragraph:ln,list:dn,subList:mn,step:un,stepNumber:_n,stepContent:gn,stepTitle:hn,scoreBox:xn,scoreTitle:pn,classificationGrid:fn,classificationCard:jn,classificationName:vn,classificationDesc:Nn,highLeverage:bn,quickWin:In,strategic:kn,evaluate:Sn,footer:yn,closeButtonPrimary:Cn};function Ln({onClose:t}){const{t:i}=re(),n=a.useCallback(g=>{g.key==="Escape"&&t()},[t]);a.useEffect(()=>(document.addEventListener("keydown",n),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",n),document.body.style.overflow=""}),[n]);const u=a.useCallback(g=>{g.target===g.currentTarget&&t()},[t]);return e.jsx("div",{className:o.overlay,onClick:u,role:"dialog","aria-modal":"true","aria-labelledby":"ideas-info-title",children:e.jsxs("div",{className:o.dialog,children:[e.jsxs("div",{className:o.header,children:[e.jsx("h2",{id:"ideas-info-title",className:o.title,children:i("ideas.info.title")}),e.jsx("button",{className:o.closeButton,onClick:t,"aria-label":i("ideas.close"),children:e.jsx(Xe,{})})]}),e.jsxs("div",{className:o.content,children:[e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.introTitle")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.introText")})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.goalsTitle")}),e.jsxs("ul",{className:o.list,children:[e.jsx("li",{children:i("ideas.info.goal1")}),e.jsx("li",{children:i("ideas.info.goal2")}),e.jsx("li",{children:i("ideas.info.goal3")}),e.jsx("li",{children:i("ideas.info.goal4")})]})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.howItWorksTitle")}),e.jsxs("div",{className:o.step,children:[e.jsx("span",{className:o.stepNumber,children:"1"}),e.jsxs("div",{className:o.stepContent,children:[e.jsx("h4",{className:o.stepTitle,children:i("ideas.info.step1Title")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.step1Text")})]})]}),e.jsxs("div",{className:o.step,children:[e.jsx("span",{className:o.stepNumber,children:"2"}),e.jsxs("div",{className:o.stepContent,children:[e.jsx("h4",{className:o.stepTitle,children:i("ideas.info.step2Title")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.step2Text")}),e.jsxs("ul",{className:o.subList,children:[e.jsx("li",{children:i("ideas.info.step2Item1")}),e.jsx("li",{children:i("ideas.info.step2Item2")}),e.jsx("li",{children:i("ideas.info.step2Item3")}),e.jsx("li",{children:i("ideas.info.step2Item4")})]})]})]}),e.jsxs("div",{className:o.step,children:[e.jsx("span",{className:o.stepNumber,children:"3"}),e.jsxs("div",{className:o.stepContent,children:[e.jsx("h4",{className:o.stepTitle,children:i("ideas.info.step3Title")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.step3Text")})]})]})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.scoringTitle")}),e.jsxs("div",{className:o.scoreBox,children:[e.jsx("h4",{className:o.scoreTitle,children:i("ideas.info.impactScoreTitle")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.impactScoreText")}),e.jsxs("ul",{className:o.subList,children:[e.jsx("li",{children:i("ideas.info.impactFactor1")}),e.jsx("li",{children:i("ideas.info.impactFactor2")}),e.jsx("li",{children:i("ideas.info.impactFactor3")}),e.jsx("li",{children:i("ideas.info.impactFactor4")}),e.jsx("li",{children:i("ideas.info.impactFactor5")})]})]}),e.jsxs("div",{className:o.scoreBox,children:[e.jsx("h4",{className:o.scoreTitle,children:i("ideas.info.feasibilityScoreTitle")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.feasibilityScoreText")}),e.jsxs("ul",{className:o.subList,children:[e.jsx("li",{children:i("ideas.info.feasibilityFactor1")}),e.jsx("li",{children:i("ideas.info.feasibilityFactor2")}),e.jsx("li",{children:i("ideas.info.feasibilityFactor3")})]})]})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.classificationTitle")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.classificationText")}),e.jsxs("div",{className:o.classificationGrid,children:[e.jsxs("div",{className:`${o.classificationCard} ${o.highLeverage}`,children:[e.jsx("h4",{className:o.classificationName,children:i("ideas.info.highLeverageTitle")}),e.jsx("p",{className:o.classificationDesc,children:i("ideas.info.highLeverageDesc")})]}),e.jsxs("div",{className:`${o.classificationCard} ${o.quickWin}`,children:[e.jsx("h4",{className:o.classificationName,children:i("ideas.info.quickWinTitle")}),e.jsx("p",{className:o.classificationDesc,children:i("ideas.info.quickWinDesc")})]}),e.jsxs("div",{className:`${o.classificationCard} ${o.strategic}`,children:[e.jsx("h4",{className:o.classificationName,children:i("ideas.info.strategicTitle")}),e.jsx("p",{className:o.classificationDesc,children:i("ideas.info.strategicDesc")})]}),e.jsxs("div",{className:`${o.classificationCard} ${o.evaluate}`,children:[e.jsx("h4",{className:o.classificationName,children:i("ideas.info.evaluateTitle")}),e.jsx("p",{className:o.classificationDesc,children:i("ideas.info.evaluateDesc")})]})]})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.benefitsTitle")}),e.jsxs("ul",{className:o.list,children:[e.jsx("li",{children:i("ideas.info.benefit1")}),e.jsx("li",{children:i("ideas.info.benefit2")}),e.jsx("li",{children:i("ideas.info.benefit3")}),e.jsx("li",{children:i("ideas.info.benefit4")})]})]}),e.jsxs("section",{className:o.section,children:[e.jsx("h3",{className:o.sectionTitle,children:i("ideas.info.fairnessTitle")}),e.jsx("p",{className:o.paragraph,children:i("ideas.info.fairnessText")})]})]}),e.jsx("div",{className:o.footer,children:e.jsx("button",{className:o.closeButtonPrimary,onClick:t,children:i("ideas.info.understood")})})]})})}function Dn(){const t=Ze(),i=xe?pe().instance:void 0,{t:n}=re(),[u,g]=a.useState([]),[R,x]=a.useState(!0),[m,L]=a.useState(null),[Z,r]=a.useState(null),[U,w]=a.useState(!1),[z,v]=a.useState(!1),[T,B]=a.useState(1),[j]=a.useState(12),[f,k]=a.useState(0),[S,D]=a.useState(!1),[I,K]=a.useState(""),[H,X]=a.useState(!1),[Q,E]=a.useState("createdAt"),[G,A]=a.useState("desc"),[P,V]=a.useState(""),[q,se]=a.useState("grid"),[ae,ie]=a.useState({}),[le,Y]=a.useState(void 0),[J,ee]=a.useState(!1),l=a.useCallback(async()=>{x(!0),L(null);try{const p=i?await W(i):void 0,F=await ze(p,{page:T,pageSize:q==="matrix"?500:j,status:I||void 0,myIdeas:H,sortBy:Q,sortOrder:G});g(F.ideas),k(F.totalCount),D(F.hasMore)}catch(p){console.error("Error loading ideas:",p),L(p instanceof Error?p.message:"Failed to load ideas")}finally{x(!1)}},[i,T,j,I,H,Q,G,q]),b=a.useCallback(p=>{w(!1),l()},[l]),d=a.useCallback(p=>{g(O=>O.map(F=>F.ideaId===p.ideaId?p:F)),r(null)},[]),y=a.useCallback(p=>{g(O=>O.filter(F=>F.ideaId!==p)),r(null)},[]);a.useEffect(()=>{l()},[l]),a.useEffect(()=>{(async()=>{if(u.length!==0)try{const O=i?await W(i):void 0,F=u.map(ne=>Be(ne.ideaId,O).then(Ae=>({ideaId:ne.ideaId,engagement:Ae})).catch(()=>null)),De=await Promise.all(F),fe={};De.forEach(ne=>{ne&&(fe[ne.ideaId]=ne.engagement)}),ie(fe)}catch(O){console.error("Error loading engagement data:",O)}})()},[i,u]),a.useEffect(()=>{const p=localStorage.getItem("beta_auth_user_id"),O=localStorage.getItem("beta_auth_is_admin")==="true";if(p){Y(p),ee(O);return}if(i){const F=i.getAllAccounts();F.length>0&&Y(F[0].localAccountId)}},[i]),a.useEffect(()=>{B(1)},[I,H,Q,G,P]);const M=a.useCallback(p=>{if(P===p)V(""),E("createdAt"),A("desc");else switch(V(p),p){case"topImpact":E("impactScore"),A("desc");break;case"quickWins":E("feasibilityScore"),A("desc");break;case"strategic":E("impactScore"),A("desc");break;default:E("createdAt"),A("desc")}},[P]);return R&&u.length===0?e.jsxs("div",{className:c.container,children:[e.jsx("header",{className:c.header,children:e.jsxs("div",{className:c.headerLeft,children:[e.jsx("h1",{className:c.title,children:n("ideas.title")}),e.jsx("p",{className:c.subtitle,children:n("ideas.subtitle")})]})}),e.jsx("div",{className:c.content,children:e.jsxs("div",{className:c.loadingState,children:[e.jsx(ce,{size:oe.large}),e.jsx("p",{className:c.loadingText,children:n("ideas.loading")})]})})]}):m&&u.length===0?e.jsxs("div",{className:c.container,children:[e.jsxs("header",{className:c.header,children:[e.jsxs("div",{className:c.headerLeft,children:[e.jsx("h1",{className:c.title,children:n("ideas.title")}),e.jsx("p",{className:c.subtitle,children:n("ideas.subtitle")})]}),e.jsx("div",{className:c.headerActions,children:e.jsxs("button",{className:c.backButton,onClick:()=>t("/"),children:[e.jsx(je,{}),n("ideas.backToChat")]})})]}),e.jsx("div",{className:c.content,children:e.jsxs("div",{className:c.errorState,children:[e.jsx(Te,{className:c.errorIcon}),e.jsx("h2",{className:c.errorTitle,children:n("ideas.errorTitle")}),e.jsx("p",{className:c.errorDescription,children:m})]})})]}):e.jsxs("div",{className:c.container,children:[e.jsxs("header",{className:c.header,children:[e.jsxs("div",{className:c.headerLeft,children:[e.jsx("h1",{className:c.title,children:n("ideas.title")}),e.jsx("p",{className:c.subtitle,children:n("ideas.subtitle")})]}),e.jsxs("div",{className:c.headerActions,children:[e.jsxs("div",{className:c.viewToggle,children:[e.jsx("button",{className:`${c.viewToggleButton} ${q==="grid"?c.viewToggleActive:""}`,onClick:()=>se("grid"),title:n("ideas.viewMode.grid"),children:e.jsx(Qe,{})}),e.jsx("button",{className:`${c.viewToggleButton} ${q==="matrix"?c.viewToggleActive:""}`,onClick:()=>se("matrix"),title:n("ideas.viewMode.matrix"),children:e.jsx(Je,{})})]}),e.jsxs("button",{className:c.infoButton,onClick:()=>v(!0),title:n("ideas.explainFunction"),children:[e.jsx(Ye,{}),n("ideas.explainFunction")]}),e.jsxs("button",{className:c.primaryButton,onClick:()=>w(!0),children:[e.jsx(Ne,{}),n("ideas.submitIdea")]}),e.jsxs("div",{className:c.exportDropdown,children:[e.jsxs("button",{className:c.exportButton,children:[e.jsx(Ke,{}),n("ideas.export.title")]}),e.jsxs("div",{className:c.exportMenu,children:[e.jsx("a",{href:"/api/ideas/export/csv",className:c.exportMenuItem,download:!0,children:n("ideas.export.csv")}),e.jsx("a",{href:"/api/ideas/export/excel",className:c.exportMenuItem,download:!0,children:n("ideas.export.excel")}),e.jsx("a",{href:"/api/ideas/export/report",className:c.exportMenuItem,download:!0,children:n("ideas.export.report")})]})]}),e.jsxs("button",{className:c.backButton,onClick:()=>t("/"),children:[e.jsx(je,{}),n("ideas.backToChat")]})]})]}),e.jsxs("div",{className:c.content,children:[e.jsxs("div",{className:c.quickFilters,children:[e.jsx("button",{className:`${c.quickFilterButton} ${P==="topImpact"?c.quickFilterActive:""}`,onClick:()=>M("topImpact"),children:n("ideas.quickFilter.topImpact")}),e.jsx("button",{className:`${c.quickFilterButton} ${P==="quickWins"?c.quickFilterActive:""}`,onClick:()=>M("quickWins"),children:n("ideas.quickFilter.quickWins")}),e.jsx("button",{className:`${c.quickFilterButton} ${P==="strategic"?c.quickFilterActive:""}`,onClick:()=>M("strategic"),children:n("ideas.quickFilter.strategic")})]}),e.jsxs("div",{className:c.filterBar,children:[e.jsxs("div",{className:c.filterGroup,children:[e.jsxs("label",{className:c.filterLabel,children:[n("ideas.filterStatus"),":"]}),e.jsxs("select",{className:c.filterSelect,value:I,onChange:p=>K(p.target.value),children:[e.jsx("option",{value:"",children:n("ideas.allStatuses")}),e.jsx("option",{value:C.Draft,children:n("ideas.status.draft")}),e.jsx("option",{value:C.Submitted,children:n("ideas.status.submitted")}),e.jsx("option",{value:C.UnderReview,children:n("ideas.status.underReview")}),e.jsx("option",{value:C.Approved,children:n("ideas.status.approved")}),e.jsx("option",{value:C.Rejected,children:n("ideas.status.rejected")}),e.jsx("option",{value:C.Implemented,children:n("ideas.status.implemented")})]})]}),e.jsxs("div",{className:c.filterGroup,children:[e.jsxs("label",{className:c.filterLabel,children:[n("ideas.sortBy"),":"]}),e.jsxs("select",{className:c.filterSelect,value:Q,onChange:p=>{E(p.target.value),V("")},children:[e.jsx("option",{value:"createdAt",children:n("ideas.sort.createdAt")}),e.jsx("option",{value:"updatedAt",children:n("ideas.sort.updatedAt")}),e.jsx("option",{value:"title",children:n("ideas.sort.title")}),e.jsx("option",{value:"impactScore",children:n("ideas.sort.impactScore")}),e.jsx("option",{value:"feasibilityScore",children:n("ideas.sort.feasibilityScore")})]}),e.jsxs("select",{className:c.filterSelect,value:G,onChange:p=>A(p.target.value),children:[e.jsx("option",{value:"desc",children:n("ideas.sort.descending")}),e.jsx("option",{value:"asc",children:n("ideas.sort.ascending")})]})]}),e.jsx("button",{className:`${c.filterToggle} ${H?c.filterToggleActive:""}`,onClick:()=>X(!H),children:n("ideas.myIdeasOnly")})]}),u.length>0?e.jsx(e.Fragment,{children:q==="grid"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:c.ideasGrid,children:u.map(p=>e.jsx(ws,{idea:p,onClick:()=>r(p),engagement:ae[p.ideaId]},p.ideaId))}),e.jsxs("div",{className:c.pagination,children:[e.jsx("button",{className:c.paginationButton,onClick:()=>B(p=>Math.max(1,p-1)),disabled:T===1||R,children:n("ideas.previousPage")}),e.jsx("span",{className:c.paginationInfo,children:n("ideas.pageInfo",{page:T,total:Math.max(1,Math.ceil(f/j))})}),e.jsx("button",{className:c.paginationButton,onClick:()=>B(p=>p+1),disabled:!S||R,children:n("ideas.nextPage")})]})]}):e.jsx(Ji,{ideas:u,onIdeaClick:p=>r(p)})}):e.jsxs("div",{className:c.emptyState,children:[e.jsx(ge,{className:c.emptyStateIcon}),e.jsx("h2",{className:c.emptyStateTitle,children:n("ideas.emptyTitle")}),e.jsx("p",{className:c.emptyStateDescription,children:n("ideas.emptyDescription")}),e.jsxs("button",{className:c.emptyStateButton,onClick:()=>w(!0),children:[e.jsx(Ne,{}),n("ideas.submitFirstIdea")]})]})]}),U&&e.jsx(Ai,{onClose:()=>w(!1),onSubmitted:b}),Z&&e.jsx(ni,{idea:Z,onClose:()=>r(null),onUpdated:d,onDeleted:y,currentUserId:le,isAdmin:J}),z&&e.jsx(Ln,{onClose:()=>v(!1)})]})}export{Dn as Component};
//# sourceMappingURL=IdeaHub-D0Ga9cGi.js.map
